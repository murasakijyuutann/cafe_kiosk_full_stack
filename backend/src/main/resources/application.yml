server:
  port: 8080
  servlet:
    encoding:
      charset: UTF-8
      force: true
      enabled: true
    session:
      timeout: 30m
      cookie:
        http-only: true
        secure: false
        same-site: lax

spring:
  profiles:
    active: ${SPRING_PROFILE:dev}  # Use 'dev' profile by default
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      connection-init-sql: "SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci"

  jpa:
    hibernate:
      ddl-auto: update  # validate schema with Flyway migrations
    properties:
      hibernate:
        format_sql: false
        dialect: org.hibernate.dialect.MySQLDialect
        globally_quoted_identifiers: true
    show-sql: false

  flyway:
    enabled: false  # Disable Flyway for now (enable when you have migrations)

  sql:
    init:
      mode: never
      encoding: UTF-8
      continue-on-error: false

  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher

  # Uncomment and configure with environment variables for email functionality
  # mail:
  #   host: smtp.sendgrid.net
  #   port: 587
  #   username: apikey
  #   password: ${SENDGRID_API_KEY}
  #   default-encoding: UTF-8
  #   properties:
  #     mail:
  #       smtp:
  #         auth: true
  #         starttls:
  #           enable: true
  #     transport:
  #       protocol: smtp
  #   from: ${MAIL_FROM_ADDRESS:noreply@example.com}

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operationsSorter: method
    tagsSorter: alpha

logging:
  level:
    org.hibernate.SQL: info
    org.hibernate.orm.jdbc.bind: info
    org.hibernate.tool.schema: error
    org.springframework.orm.jpa: error
